<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kototjom</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0F0F12',
                        accent: '#3F4581',
                    },
                    fontFamily: {
                        'segoe': ['"Segoe UI"', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                        'playfair': ['"Playfair Display"', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        .hub-split {
            transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        /* Эффект шторки при наведении (для десктопа) */
        @media (min-width: 768px) {
            .container-hover:hover .hub-split:hover {
                flex-grow: 1.6;
            }
            .container-hover:hover .hub-split:not(:hover) {
                flex-grow: 0.6;
                filter: brightness(0.7);
            }
        }

        /* Стили для кнопок языка */
        .lang-btn {
            opacity: 0.5;
            transition: all 0.3s ease;
            position: relative;
        }
        .lang-btn:hover {
            opacity: 1;
        }
        .lang-btn.active {
            opacity: 1;
            font-weight: bold;
        }
        /* Небольшая точка под активным языком */
        .lang-btn.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background-color: white;
            border-radius: 50%;
        }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden m-0 p-0 bg-dark relative">

    <div class="fixed top-6 right-6 z-50 flex gap-4 text-white text-sm tracking-widest font-segoe bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full border border-white/10">
        <button class="lang-btn" onclick="setLanguage('ru')" id="btn-ru">RU</button>
        <button class="lang-btn" onclick="setLanguage('de')" id="btn-de">DE</button>
        <button class="lang-btn" onclick="setLanguage('en')" id="btn-en">EN</button>
    </div>

    <div class="flex flex-col h-full w-full container-hover">

        <a href="/me" class="hub-split group relative flex-1 bg-dark text-white flex flex-col items-center justify-center text-center no-underline cursor-pointer border-b border-gray-800 md:border-b-0 overflow-hidden">
            
            <div class="absolute inset-0 bg-gradient-to-b from-[#3F4581] to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-700"></div>

            <div class="relative z-10 p-6 transform transition-transform duration-500 group-hover:-translate-y-1">
                
                <h1 class="font-segoe text-5xl md:text-6xl font-bold tracking-tight mb-2 group-hover:text-gray-200 transition-colors" data-i18n="personal_title">
                    Личный
                </h1>
                
                <p class="font-segoe text-[#3F4581] text-lg md:text-xl font-normal tracking-wide mt-2 opacity-80 group-hover:opacity-100 group-hover:text-[#4d549e] transition-all">
                    Kototjom
                </p>

            </div>
        </a>

        <a href="/work" class="hub-split group relative flex-1 bg-white text-gray-900 flex flex-col items-center justify-center text-center no-underline cursor-pointer overflow-hidden">
            
            <div class="relative z-10 p-6 transform transition-transform duration-500 group-hover:-translate-y-1">
                
                <h1 class="font-playfair text-5xl md:text-6xl font-normal mb-1 text-gray-900 group-hover:text-accent transition-colors" data-i18n="work_title">
                    Рабочий
                </h1>
                
                <p class="font-playfair italic text-gray-500 text-lg md:text-xl mt-3 tracking-wider group-hover:text-gray-700 transition-colors">
                    Artjom Titov
                </p>

            </div>
        </a>

    </div>

    <script>
        // Тексты для хаба
        const translations = {
            ru: {
                personal_title: "Личный",
                work_title: "Рабочий"
            },
            en: {
                personal_title: "Personal",
                work_title: "Portfolio"
            },
            de: {
                personal_title: "Persönlich",
                work_title: "Portfolio"
            }
        };

        function setLanguage(lang) {
            // 1. Сохраняем в localStorage (это подхватит страница /work)
            localStorage.setItem('preferredLanguage', lang);
            
            // 2. Обновляем кнопки
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${lang}`).classList.add('active');

            // 3. Меняем тексты на странице
            const texts = translations[lang];
            for (const key in texts) {
                const element = document.querySelector(`[data-i18n="${key}"]`);
                if (element) {
                    // Добавляем плавное затухание для красоты смены текста
                    element.style.opacity = 0;
                    setTimeout(() => {
                        element.textContent = texts[key];
                        element.style.opacity = 1;
                    }, 200);
                }
            }
            
            // Меняем язык документа для правильной работы браузера
            document.documentElement.lang = lang;
        }

        function initLanguage() {
            // Проверяем, есть ли уже сохраненный язык
            const savedLang = localStorage.getItem('preferredLanguage');
            const browserLang = navigator.language.slice(0, 2);
            
            let lang = 'ru'; // Дефолт

            if (savedLang && translations[savedLang]) {
                lang = savedLang;
            } else if (translations[browserLang]) {
                lang = browserLang;
            }

            // Применяем язык без анимации при первой загрузке
            localStorage.setItem('preferredLanguage', lang);
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${lang}`).classList.add('active');
            
            const texts = translations[lang];
            for (const key in texts) {
                const element = document.querySelector(`[data-i18n="${key}"]`);
                if (element) element.textContent = texts[key];
            }
            document.documentElement.lang = lang;
        }

        // Запускаем при загрузке
        initLanguage();
        
        // Добавляем transition для плавности текста после инициализации
        setTimeout(() => {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                el.style.transition = "opacity 0.2s ease";
            });
        }, 100);
    </script>
</body>
</html>